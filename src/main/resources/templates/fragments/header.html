<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:fragment="head(title)">
    <!-- meta tags -->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Portal de venta de coches de ocasión y accidentados">
    <meta name="keywords" content="coches, venta, ocasión, accidentados, concesionario">

    <!-- title -->
    <title th:text="${title} ?: 'Portal de Coches'">Portal de Coches</title>

    <!-- favicon -->
    <link rel="icon" type="image/x-icon" href="/img/logo/favicon.png">

    <!-- css -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/all-fontawesome.min.css">
    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/animate.min.css">
    <link rel="stylesheet" href="/css/magnific-popup.min.css">
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/css/jquery-ui.min.css">
    <link rel="stylesheet" href="/css/nice-select.min.css">
    <link rel="stylesheet" href="/css/style.css">
</head>

<body>
    <!-- Navigation Bar Fragment -->
    <header th:fragment="navbar" class="header">
        <!-- top header -->
        <div class="header-top">
            <div class="container">
                <div class="header-top-wrapper">
                    <div class="header-top-left">
                        <div class="header-top-contact">
                            <ul>
                                <li><a href="mailto:info@portalcoches.com"><i class="far fa-envelopes"></i> info@portalcoches.com</a></li>
                                <li><a href="tel:+34912345678"><i class="far fa-phone-volume"></i> +34 912 345 678</a></li>
                                <li><a href="#"><i class="far fa-alarm-clock"></i> Lun - Vie (09:00 - 20:00)</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="header-top-right">
                        <div class="header-top-link">
                            <a th:href="@{/login}" sec:authorize="!isAuthenticated()"><i class="far fa-arrow-right-to-arc"></i> Iniciar Sesión</a>
                            <a th:href="@{/register}" sec:authorize="!isAuthenticated()"><i class="far fa-user-vneck"></i> Registrarse</a>
                            <span sec:authorize="isAuthenticated()">
                                <i class="far fa-user"></i> <span sec:authentication="name">Usuario</span>
                            </span>
                        </div>
                        <div class="header-top-social">
                            <span>Síguenos: </span>
                            <a href="#"><i class="fab fa-facebook"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                            <a href="#"><i class="fab fa-linkedin"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- main navigation -->
        <div class="main-navigation">
            <nav class="navbar navbar-expand-lg">
                <div class="container position-relative">
                    <a class="navbar-brand" th:href="@{/}">
                        <img src="/img/logo/logo.png" alt="logo">
                    </a>
                    <div class="mobile-menu-right">
                        <div class="nav-right-account" sec:authorize="isAuthenticated()">
                            <div class="dropdown">
                                <div data-bs-toggle="dropdown" aria-expanded="false">
                                    <img src="/img/account/user.jpg" alt="">
                                </div>
                                <ul class="dropdown-menu dropdown-menu-end">
                                    <li sec:authorize="hasRole('VENDEDOR')">
                                        <a class="dropdown-item" th:href="@{/dashboard}">
                                            <i class="far fa-gauge-high"></i> Dashboard
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" th:href="@{/profile}">
                                            <i class="far fa-user"></i> Mi Perfil
                                        </a>
                                    </li>
                                    <li sec:authorize="hasRole('VENDEDOR')">
                                        <a class="dropdown-item" th:href="@{/dashboard/listings}">
                                            <i class="far fa-layer-group"></i> Mis Listados
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" th:href="@{/profile/favorites}">
                                            <i class="far fa-heart"></i> Mis Favoritos
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item" th:href="@{/profile/settings}">
                                            <i class="far fa-cog"></i> Configuración
                                        </a>
                                    </li>
                                    <li>
                                        <form th:action="@{/logout}" method="post" style="margin: 0;">
                                            <button type="submit" class="dropdown-item" style="background: none; border: none; width: 100%; text-align: left; cursor: pointer;">
                                                <i class="far fa-sign-out"></i> Cerrar Sesión
                                            </button>
                                        </form>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                            data-bs-target="#main_nav" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-mobile-icon"><i class="far fa-bars"></i></span>
                        </button>
                    </div>
                    <div class="collapse navbar-collapse" id="main_nav">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/}">Inicio</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/cars}">Inventario</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/dealers}">Concesionarios</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/about}">Acerca de</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link" th:href="@{/contact}">Contacto</a>
                            </li>
                        </ul>
                        <div class="nav-right">
                            <div class="nav-right-account" sec:authorize="isAuthenticated()">
                                <div class="dropdown">
                                    <div data-bs-toggle="dropdown" aria-expanded="false">
                                        <img src="/img/account/user.jpg" alt="">
                                    </div>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li sec:authorize="hasRole('VENDEDOR')">
                                            <a class="dropdown-item" th:href="@{/dashboard}">
                                                <i class="far fa-gauge-high"></i> Dashboard
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" th:href="@{/profile}">
                                                <i class="far fa-user"></i> Mi Perfil
                                            </a>
                                        </li>
                                        <li sec:authorize="hasRole('VENDEDOR')">
                                            <a class="dropdown-item" th:href="@{/dashboard/listings}">
                                                <i class="far fa-layer-group"></i> Mis Listados
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" th:href="@{/profile/favorites}">
                                                <i class="far fa-heart"></i> Mis Favoritos
                                            </a>
                                        </li>
                                        <li>
                                            <a class="dropdown-item" th:href="@{/profile/settings}">
                                                <i class="far fa-cog"></i> Configuración
                                            </a>
                                        </li>
                                        <li>
                                            <form th:action="@{/logout}" method="post" style="margin: 0;">
                                                <button type="submit" class="dropdown-item" style="background: none; border: none; width: 100%; text-align: left; cursor: pointer;">
                                                    <i class="far fa-sign-out"></i> Cerrar Sesión
                                                </button>
                                            </form>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="nav-right-btn mt-2" sec:authorize="hasRole('VENDEDOR')">
                                <a th:href="@{/dashboard/listings/add}" class="theme-btn">
                                    <span class="far fa-plus-circle"></span> Añadir Listado
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </header>
    
    <!-- Scripts Fragment -->
    <div th:fragment="scripts">
        <!-- js -->
        <script src="/js/jquery-3.6.0.min.js"></script>
        <script src="/js/modernizr.min.js"></script>
        <script src="/js/bootstrap.bundle.min.js"></script>
        <script src="/js/imagesloaded.pkgd.min.js"></script>
        <script src="/js/jquery.magnific-popup.min.js"></script>
        <script src="/js/isotope.pkgd.min.js"></script>
        <script src="/js/jquery.appear.min.js"></script>
        <script src="/js/jquery.easing.min.js"></script>
        <script src="/js/owl.carousel.min.js"></script>
        <script src="/js/counter-up.js"></script>
        <script src="/js/jquery-ui.min.js"></script>
        <script src="/js/jquery.nice-select.min.js"></script>
        <script src="/js/wow.min.js"></script>
        <script src="/js/main.js"></script>
    </div>
</body>
</html>